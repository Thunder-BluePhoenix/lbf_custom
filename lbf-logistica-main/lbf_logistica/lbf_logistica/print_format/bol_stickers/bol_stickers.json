{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-12-20 15:11:38.495136",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Bill Of Landing",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<style>\r\n  @page {\r\n    size: 8cm 5cm;\r\n    margin: 0;\r\n  }\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .sticker {\r\n    width: 8cm;\r\n    height: 5cm;\r\n    padding: 0.2cm;\r\n    font-family: Arial, sans-serif;\r\n    font-size: 8px;\r\n    box-sizing: border-box;\r\n    page-break-after: always;\r\n    page-break-inside: avoid;\r\n    position: relative;\r\n    display: flex;\r\n    border: 1px solid #000;\r\n    overflow: hidden; /* Prevent content overflow */\r\n  }\r\n  .vertical-line {\r\n    position: absolute;\r\n    left: 0.4cm;\r\n    top: 0.2cm;\r\n    bottom: 0.2cm;\r\n    width: 2px;\r\n    background: #000;\r\n  }\r\n  .logo-section {\r\n    position: absolute;\r\n    left: 0.1cm;\r\n    top: 0.2cm;\r\n    height: 4.6cm;\r\n    width: 0.3cm;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  .logo-container {\r\n    width: 0.3cm;\r\n    margin-bottom: 0.2cm;\r\n  }\r\n  .website-text {\r\n    writing-mode: vertical-rl;\r\n    transform: rotate(180deg);\r\n    font-size: 6px;\r\n    color: #000;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    margin-top: 0.2cm;\r\n  }\r\n  .logo {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  .sticker-content {\r\n    margin-left: 0.6cm;\r\n    flex: 1;\r\n    display: flex;\r\n    max-height: 4.6cm; /* Ensure content stays within sticker */\r\n  }\r\n  .sticker-left {\r\n    flex: 1;\r\n    padding-right: 0.3cm;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .sticker-right {\r\n    width: 1.5cm;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    text-align: center;\r\n    padding-right: 0.2cm;\r\n    writing-mode: vertical-rl;\r\n    transform: rotate(180deg);\r\n    position: relative;\r\n  }\r\n\r\n  .data-rows {\r\n    flex: 1;\r\n    overflow: hidden; /* Prevent data overflow */\r\n  }\r\n  .data-row {\r\n    margin-bottom: 0.12cm;\r\n    font-size: 9px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    line-height: 1.2;\r\n    font-weight: bold;\r\n  }\r\n  .title {\r\n    font-weight: bold;\r\n    display: inline-block;\r\n    min-width: 1.5cm;\r\n  }\r\n  .barcode-container {\r\n    height: 1.2cm; /* Fixed height for barcode */\r\n    margin-top: 0.1cm;\r\n    overflow: hidden;\r\n  }\r\n  .barcode-container img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    object-fit: contain;\r\n  }\r\n  .serial-right {\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    letter-spacing: 0.1cm;\r\n    white-space: nowrap;\r\n  }\r\n</style>\r\n\r\n<div>\r\n    {% if doc.service == \"Peneus Hub\" %}\r\n    {% set items = doc.item_details_ph %}\r\n    {% elif doc.service == \"Tyre Hotel\" %}\r\n    {% set items = doc.item_details_th %}\r\n    {% endif %}\r\n\r\n  {% for row in items %}\r\n    {% set accepted_bundles = (row.serial_and_batch_bundle_accepted or '').split(',') %}\r\n    {% set rejected_bundles = (row.serial_and_batch_bundle_rejected or '').split(',') %}\r\n    \r\n    {% set total_entries = namespace(count=0) %}\r\n    {% for bundle in accepted_bundles %}\r\n      {% if bundle %}\r\n        {% set bundle_doc = frappe.get_doc('Serial and Batch Bundle', bundle.strip()) %}\r\n        {% set total_entries.count = total_entries.count + bundle_doc.entries|length %}\r\n      {% endif %}\r\n    {% endfor %}\r\n\r\n    {% set current_index = namespace(value=0) %}\r\n    {% for bundle in accepted_bundles %}\r\n      {% if bundle %}\r\n        {% set bundle_doc = frappe.get_doc('Serial and Batch Bundle', bundle.strip()) %}\r\n        \r\n        {% for entry in bundle_doc.entries %}\r\n          {% if entry.serial_no %}\r\n            {% set current_index.value = current_index.value + 1 %}\r\n            {% set serial_doc = frappe.get_doc('Serial No', entry.serial_no.strip()) %}\r\n            <div class=\"sticker\">\r\n                <div class=\"vertical-line\"></div>\r\n                  <div class=\"logo-section\">\r\n                    <div class=\"logo-container\">\r\n                      <svg viewBox=\"0 0 10 30\" class=\"logo\">\r\n                        <circle cx=\"5\" cy=\"5\" r=\"4\" fill=\"black\"/>\r\n                        <circle cx=\"5\" cy=\"15\" r=\"4\" fill=\"black\"/>\r\n                        <circle cx=\"5\" cy=\"25\" r=\"4\" fill=\"black\"/>\r\n                      </svg>\r\n                    </div>\r\n                    <div class=\"website-text\">www.lbf-logistica.it</div>\r\n                  </div>\r\n              <div class=\"sticker-content\">\r\n                <div class=\"sticker-left\">\r\n                  <div class=\"data-rows\">\r\n                    <div class=\"data-row\">\r\n                      <span class=\"title\">CL : </span> {{ doc.customer or '' }}\r\n                    </div>\r\n                    <div class=\"data-row\" style = \" text-align: center;\">\r\n                      <h3 class=\"title\" style = \"margin-top: 0px;margin-bottom: 0px;\"> {{ entry.batch_no or '' }} </h3>\r\n                    </div>\r\n                    <div class=\"data-row\">\r\n                       {{ serial_doc.custom_slug or '' }}\r\n                    </div>\r\n                    <div class=\"data-row\">\r\n                      <span class=\"title\">ID : </span> {{ serial_doc.name or '' }}\r\n                    </div>\r\n                    <div class=\"data-row\">\r\n                      <span class=\"title\">COD. PR :</span> {{ row.item_code or '' }}\r\n                    </div>\r\n                    \r\n                    <div class=\"data-row\">\r\n                      <span class=\"title\">SKU : </span>  Nos\r\n                    </div>\r\n                    <div class=\"data-row\">\r\n                      <span class=\"title\">COD. INT :</span> {{ row.item_code or '' }}\r\n                    </div>\r\n                    <div class=\"data-row\">\r\n                       {{ doc.name or '' }}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"barcode-container\">\r\n                    {% if serial_doc.custom_barcode %}\r\n                      <img src=\"https://barcode.tec-it.com/barcode.ashx?data={{ serial_doc.custom_barcode }}&code=Code39&dpi=96&dimension=1d\" alt=\"Barcode\" />\r\n                    {% endif %}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"sticker-right\">\r\n                    <div class=\"serial-right\">\r\n                      {{ '%02d' | format(current_index.value) }}/{{ '%02d' | format(total_entries.count) }}\r\n                   </div>\r\n                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n         {% endif %}\r\n        {% endfor %}\r\n      {% endif %}\r\n    {% endfor %}\r\n  {% endfor %}\r\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-01-09 20:59:06.222059",
 "modified_by": "Administrator",
 "module": "LBF Logistica",
 "name": "BOL Stickers",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}